<svg id="mermaidChart0" width="650" height="806" viewBox="-50 -10 650 806" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><style type="text/css" title="mermaid-svg-internal-css">/*  */
* { margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px;  }
/*  */
</style><g/><g><line x1="75" y1="5" x2="75" y2="2000" class="actor-line" stroke-width="0.5px" stroke="#999"/><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="75" y="37.5" class="actor" style="text-anchor: middle; ">MutationObserver</text></g><g><line x1="275" y1="5" x2="275" y2="2000" class="actor-line" stroke-width="0.5px" stroke="#999"/><rect x="200" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="275" y="37.5" class="actor" style="text-anchor: middle; ">Scene Graph</text></g><g><line x1="475" y1="5" x2="475" y2="2000" class="actor-line" stroke-width="0.5px" stroke="#999"/><rect x="400" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="475" y="37.5" class="actor" style="text-anchor: middle; ">Tree View</text></g><defs><marker id="arrowhead" refX="5" refY="2" markerWidth="6" markerHeight="4" orient="auto"><path d="M 0,0 V 4 L6,2 Z"/></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="16" refY="4"><path fill="black" stroke="#000000" style="stroke-dasharray: 0px, 0px; " stroke-width="1px" d="M 9,2 V 6 L16,4 Z"/><path fill="none" stroke="#000000" style="stroke-dasharray: 0px, 0px; " stroke-width="1px" d="M 0,1 L 6,7 M 6,1 L 0,7"/></marker></defs><g><text x="375" y="93" style="text-anchor: middle; " class="messageText">traverse and create Tree View</text><line x1="275" y1="100" x2="475" y2="100" class="messageLine0" stroke-width="2" stroke="black" style="fill: none; " marker-end="url(#arrowhead)"/></g><g><text x="375" y="178" style="text-anchor: middle; " class="messageText">add new node</text><line x1="475" y1="185" x2="275" y2="185" class="messageLine0" stroke-width="2" stroke="black" style="fill: none; " marker-end="url(#arrowhead)"/></g><g><text x="175" y="213" style="text-anchor: middle; " class="messageText">notify</text><line x1="275" y1="220" x2="75" y2="220" style="stroke-dasharray: 3px, 3px; fill: none; " class="messageLine1" stroke-width="2" stroke="black" marker-end="url(#crosshead)"/></g><g><text x="275" y="248" style="text-anchor: middle; " class="messageText">add new node to Tree View and map</text><line x1="75" y1="255" x2="475" y2="255" class="messageLine0" stroke-width="2" stroke="black" style="fill: none; " marker-end="url(#arrowhead)"/></g><g><line x1="65" y1="135" x2="485" y2="135" stroke-width="2" stroke="#526e52" class="loopLine"/><line x1="485" y1="135" x2="485" y2="265" stroke-width="2" stroke="#526e52" class="loopLine"/><line x1="65" y1="265" x2="485" y2="265" stroke-width="2" stroke="#526e52" class="loopLine"/><line x1="65" y1="135" x2="65" y2="265" stroke-width="2" stroke="#526e52" class="loopLine"/><rect x="65" y="135" fill="#526e52" stroke="none" width="50" height="20" rx="0" ry="0" class="labelBox"/><text x="72.5" y="150" fill="white" class="labelText"><tspan x="72.5">opt</tspan></text><text x="275" y="150" style="text-anchor: middle; " fill="black" class="loopText"><tspan x="275">[ add node ]</tspan></text></g><g><text x="375" y="318" style="text-anchor: middle; " class="messageText">remove node</text><line x1="475" y1="325" x2="275" y2="325" class="messageLine0" stroke-width="2" stroke="black" style="fill: none; " marker-end="url(#arrowhead)"/></g><g><text x="175" y="353" style="text-anchor: middle; " class="messageText">notify</text><line x1="275" y1="360" x2="75" y2="360" style="stroke-dasharray: 3px, 3px; fill: none; " class="messageLine1" stroke-width="2" stroke="black" marker-end="url(#crosshead)"/></g><g><text x="275" y="388" style="text-anchor: middle; " class="messageText">remove node from Tree View and map</text><line x1="75" y1="395" x2="475" y2="395" class="messageLine0" stroke-width="2" stroke="black" style="fill: none; " marker-end="url(#arrowhead)"/></g><g><line x1="65" y1="275" x2="485" y2="275" stroke-width="2" stroke="#526e52" class="loopLine"/><line x1="485" y1="275" x2="485" y2="405" stroke-width="2" stroke="#526e52" class="loopLine"/><line x1="65" y1="405" x2="485" y2="405" stroke-width="2" stroke="#526e52" class="loopLine"/><line x1="65" y1="275" x2="65" y2="405" stroke-width="2" stroke="#526e52" class="loopLine"/><rect x="65" y="275" fill="#526e52" stroke="none" width="50" height="20" rx="0" ry="0" class="labelBox"/><text x="72.5" y="290" fill="white" class="labelText"><tspan x="72.5">opt</tspan></text><text x="275" y="290" style="text-anchor: middle; " fill="black" class="loopText"><tspan x="275">[ remove node ]</tspan></text></g><g><text x="375" y="483" style="text-anchor: middle; " class="messageText">change attribute</text><line x1="475" y1="490" x2="275" y2="490" class="messageLine0" stroke-width="2" stroke="black" style="fill: none; " marker-end="url(#arrowhead)"/></g><g><text x="175" y="518" style="text-anchor: middle; " class="messageText">notify</text><line x1="275" y1="525" x2="75" y2="525" style="stroke-dasharray: 3px, 3px; fill: none; " class="messageLine1" stroke-width="2" stroke="black" marker-end="url(#crosshead)"/></g><g><text x="275" y="573" style="text-anchor: middle; " class="messageText">mutate attribute by modifying the scene directly</text><path d="M 275,580 C 335,570 335,610 275,600" class="messageLine0" stroke-width="2" stroke="black" style="fill: none; " marker-end="url(#arrowhead)"/></g><g><text x="175" y="638" style="text-anchor: middle; " class="messageText">notify</text><line x1="275" y1="645" x2="75" y2="645" style="stroke-dasharray: 3px, 3px; fill: none; " class="messageLine1" stroke-width="2" stroke="black" marker-end="url(#crosshead)"/></g><g><line x1="65" y1="440" x2="485" y2="440" stroke-width="2" stroke="#526e52" class="loopLine"/><line x1="485" y1="440" x2="485" y2="655" stroke-width="2" stroke="#526e52" class="loopLine"/><line x1="65" y1="655" x2="485" y2="655" stroke-width="2" stroke="#526e52" class="loopLine"/><line x1="65" y1="440" x2="65" y2="655" stroke-width="2" stroke="#526e52" class="loopLine"/><line x1="65" y1="535" x2="485" y2="535" stroke-width="2" stroke="#526e52" class="loopLine"/><rect x="65" y="440" fill="#526e52" stroke="none" width="50" height="20" rx="0" ry="0" class="labelBox"/><text x="72.5" y="455" fill="white" class="labelText"><tspan x="72.5">alt</tspan></text><text x="275" y="455" style="text-anchor: middle; " fill="black" class="loopText"><tspan x="275">[ changed in Tree View ]</tspan></text><text x="275" y="550" style="text-anchor: middle; " fill="black" class="loopText"><tspan x="275">[ changed in Scene Graph (3D canvas) ]</tspan></text></g><g><text x="275" y="683" style="text-anchor: middle; " class="messageText">look up node in map and alter it in Tree View</text><line x1="75" y1="690" x2="475" y2="690" class="messageLine0" stroke-width="2" stroke="black" style="fill: none; " marker-end="url(#arrowhead)"/></g><g><line x1="55" y1="415" x2="495" y2="415" stroke-width="2" stroke="#526e52" class="loopLine"/><line x1="495" y1="415" x2="495" y2="700" stroke-width="2" stroke="#526e52" class="loopLine"/><line x1="55" y1="700" x2="495" y2="700" stroke-width="2" stroke="#526e52" class="loopLine"/><line x1="55" y1="415" x2="55" y2="700" stroke-width="2" stroke="#526e52" class="loopLine"/><rect x="55" y="415" fill="#526e52" stroke="none" width="50" height="20" rx="0" ry="0" class="labelBox"/><text x="62.5" y="430" fill="white" class="labelText"><tspan x="62.5">opt</tspan></text><text x="275" y="430" style="text-anchor: middle; " fill="black" class="loopText"><tspan x="275">[ change attribute ]</tspan></text></g><g><line x1="45" y1="110" x2="505" y2="110" stroke-width="2" stroke="#526e52" class="loopLine"/><line x1="505" y1="110" x2="505" y2="710" stroke-width="2" stroke="#526e52" class="loopLine"/><line x1="45" y1="710" x2="505" y2="710" stroke-width="2" stroke="#526e52" class="loopLine"/><line x1="45" y1="110" x2="45" y2="710" stroke-width="2" stroke="#526e52" class="loopLine"/><rect x="45" y="110" fill="#526e52" stroke="none" width="50" height="20" rx="0" ry="0" class="labelBox"/><text x="52.5" y="125" fill="white" class="labelText"><tspan x="52.5">loop</tspan></text><text x="275" y="125" style="text-anchor: middle; " fill="black" class="loopText"><tspan x="275">[ observe Scene Graph ]</tspan></text></g><g><rect x="0" y="730" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="75" y="767.5" class="actor" style="text-anchor: middle; ">MutationObserver</text></g><g><rect x="200" y="730" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="275" y="767.5" class="actor" style="text-anchor: middle; ">Scene Graph</text></g><g><rect x="400" y="730" fill="#eaeaea" stroke="#666" width="150" height="65" rx="3" ry="3" class="actor"/><text x="475" y="767.5" class="actor" style="text-anchor: middle; ">Tree View</text></g></svg>